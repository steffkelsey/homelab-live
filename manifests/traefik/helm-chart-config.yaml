apiVersion: helm.cattle.io/v1
kind: HelmChartConfig
metadata:
  name: traefik
  namespace: kube-system
spec:
  valuesContent: |-
    additionalArguments:
      - "--api"
      #- "--api.insecure=true"
      - "--api.dashboard=true"
      - "--log.level=DEBUG"
    providers:
      kubernetesCRD:
        allowCrossNamespace: true
    ingressRoute:
      dashboard:
        enabled: true
        matchRule: Host(`traefik.marlin-daggertooth.ts.net`)
        entryPoints: ["web"]
    #logs:
    #  access:
    #    enabled: true
    #    format: json
    certificatesResolvers:
      acmeresolver:
        acme:
          email: thecodeviking@gmail.com
          storage: /data/acme.json
          tlsChallenge: true
          caServer: "https://acme-v02.api.letsencrypt.org/directory"
